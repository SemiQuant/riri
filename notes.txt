The uploaded sequences were first aligned to rRNAs, tRNA, and snRNA to exclude the RPFs coming from rRNA, tRNA, and snRNA using Bowtie v1.2.2 (33) with a maximum of two mismatches (-v 2) by default. 


Cleaned RPF sequences were then mapped to the reference genome using STAR v2.7.3a (34) with parameters (–outFilterMismatchNmax 2 –quantMode TranscriptomeSAM GeneCounts –outSAMattributes MD NH –outFilterMultimapNmax 1) by default.

The unique genome-mapped RPFs are then mapped against protein coding transcripts using bowtie v1.2.2 with parameters ‘-a -v 2’ by default (33)

Coding frame distribution and 3-nt periodicity analyses for Ribo-seq quality evaluation are performed based on riboWaltz v1.1.0

The featureCounts program in the Subread package v1.6.3 (35) is used to count the number of RPFs uniquely mapped to CDS regions based on genome mapping file (-t CDS -g gene_id), which were then normalized as RPF Per Kilobase per Million mapped RPFs (RPKM).

For codon-based analyses, 5′ mapped sites of RPFs (26–32 nt by default) translated in 0-frame were used to infer the P-sites with the offsets, which can be set by users or calculated based on the RPF mapping distribution around translation start sites using psite function in plastid v0.4.8 (7).

Pause score is further used to evaluate codon pause events using PausePred local version with default parameters (37).


